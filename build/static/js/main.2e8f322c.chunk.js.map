{"version":3,"sources":["Components/Styled/GlobalStyle.js","image/logo.svg","image/user.svg","Components/Styled/Buttons.js","Components/NavBar/NavBar.js","Components/Functions/secondaryFunc.js","Components/Menu/ListItem.js","image/banner.png","Components/Menu/Banner.js","Components/Menu/Menu.js","Components/Hooks/useFetch.js","Components/Styled/Components.js","Components/Modal/CountItem.js","Components/Hooks/useToppings.js","Components/Modal/selectionWrapper.js","Components/Modal/Toppings.js","Components/Modal/Choices.js","Components/Modal/ModalItem.js","Components/Hooks/useCount.js","Components/Hooks/useChoices.js","image/trash.svg","Components/Order/OrderListItem.js","Components/Order/Order.js","Components/Hooks/useTitle.js","Components/Order/OrderConfirm.js","App.js","Components/Hooks/useAuth.js","Components/Hooks/useOpenItem.js","Components/Hooks/useOrders.js","Components/Hooks/useOrderConfirm.js","reportWebVitals.js","index.js"],"names":["GlobalStyle","createGlobalStyle","Button","styled","button","ButtonCheckout","ButtonApprove","ButtonLogIn","ButtonLogOut","NavBarStyled","header","Logo","div","H1","h1","ImgLogo","img","UserLog","Welcome","p","NavBar","authentification","logIn","logOut","src","logoImg","alt","onClick","displayName","userImg","formatCurrency","price","toLocaleString","style","currency","totalPriceItems","order","countTopping","topping","filter","item","checked","length","priceTopping","count","List","ul","Item","li","ListItem","itemList","setOpenItem","map","name","id","Banner","bannerImg","MenuStyled","main","SectionMenu","section","MenuHeader","h2","Menu","res","useState","responce","setResponce","error","setError","useEffect","a","fetch","json","useFetch","dbMenu","burger","other","Overlay","OrderTitle","Total","TotalPrice","span","CountWrapper","CountInput","input","ButtonCount","CountItem","onChange","setCount","validCount","disabled","type","min","max","value","SelectWrap","SelectLabel","label","ToppingCheckbox","Toppings","toppings","checkToppings","i","ChoiceRadio","Choices","openItem","choice","changeChoices","choices","Modal","Content","HeaderContent","TotalPriceItem","ModalItem","orders","setOrders","counter","startCount","e","target","replace","useCount","readyTopping","getTopping","setToppings","index","newItem","useToppings","setChoice","useChoices","isEdit","newOrders","TrashButton","trashImg","OrderItemStyled","ItemName","ItemPrice","OrderListItem","deleteItem","join","refDelBtn","useRef","current","ref","OrderStyled","OrderContent","OrderList","EmptyList","Order","setOpenOrderConfirm","total","reduce","result","totalCounter","console","log","Text","h3","rulesData","itemName","arr","obj","sendOrder","dataBase","newOrder","rules","keys","Object","newObj","key","val","fn","projection","push","set","nameClient","email","OrderConfirm","firebaseDatabase","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","App","auth","authFirebase","setAuthentification","provider","GoogleAuthProvider","onAuthStateChanged","user","signInWithPopup","signOut","catch","err","useAuth","useOpenItem","useOrders","orderConfirm","openOrderConfirm","useOrderConfirm","document","title","useTitle","database","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"mRAEaA,EAAcC,YAAH,+3BCFT,MAA0B,iCCA1B,MAA0B,iCCEnCC,EAASC,IAAOC,OAAV,weAgBCC,EAAiBF,YAAOD,EAAPC,CAAH,0NAYdG,EAAgBH,YAAOE,EAAPF,CAAH,wFAKbI,EAAcJ,YAAOD,EAAPC,CAAH,iEAKXK,EAAeL,YAAOI,EAAPJ,CAAH,yE,OClCnBM,EAAeN,IAAOO,OAAV,sVAeZC,EAAOR,IAAOS,IAAV,0EAIJC,EAAKV,IAAOW,GAAV,0EAIFC,EAAUZ,IAAOa,IAAV,8CAGPC,EAAUd,IAAOS,IAAV,mGAKPM,EAAUf,IAAOgB,EAAV,iGAMAC,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,iBAAkBC,EAArB,EAAqBA,MAAOC,EAA5B,EAA4BA,OAA5B,OAClB,eAACd,EAAD,WACI,eAACE,EAAD,WACI,cAACI,EAAD,CAASS,IAAKC,EAASC,IAAI,SAC3B,cAACb,EAAD,+BAEHQ,EACD,eAACJ,EAAD,CAASU,QAASJ,EAAlB,UACI,cAACL,EAAD,UAAUG,EAAiBO,cAC3B,cAACpB,EAAD,mBAEJ,eAACS,EAAD,CAASU,QAASL,EAAlB,UACI,cAACJ,EAAD,6CACA,cAACX,EAAD,UACI,qBAAKiB,IAAKK,EAASH,IAAI,kDCxD1BI,EAAiB,SAAAC,GAAK,OAAIA,EAAMC,eAAe,QAAS,CAACC,MAAO,WAAYC,SAAU,SAEtFC,EAAkB,SAAAC,GAE3B,IAAMC,EAAeD,EAAME,SAAWF,EAAME,QAAQC,QAAO,SAAAC,GAAI,OAAIA,EAAKC,WAASC,OAI3EC,EAA8B,GAAdP,EAAML,MAAeM,EAE3C,OAAQD,EAAML,MAAQY,IAAiBP,EAAMQ,MAAQ,EAAI,EAAIR,EAAMQ,MAAQ,IAAM,IAAMR,EAAMQ,QCP3FC,GAAO1C,IAAO2C,GAAV,oRAMJC,GAAO5C,IAAO6C,GAAV,8iCAIc,gBAAGhC,EAAH,EAAGA,IAAH,oBAAoBA,EAApB,QA6BXiC,GAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,YAAb,OACpB,cAACN,GAAD,UACKK,EAASE,KAAI,SAAAZ,GAAI,OACd,eAACO,GAAD,CAEI/B,IAAKwB,EAAKxB,IACVW,QAAS,kBAAMwB,EAAYX,IAH/B,UAII,4BAAIA,EAAKa,OACT,4BAAIvB,EAAeU,EAAKT,WAJnBS,EAAKc,UC/CX,OAA0B,mCCG5BC,GAASpD,IAAOS,IAAV,iKACS4C,I,qCCEtBC,GAAatD,IAAOuD,KAAV,yGAMVC,GAAcxD,IAAOyD,QAAV,gDAIXC,GAAa1D,IAAO2D,GAAV,uEAKHC,GAAO,SAAC,GAAqB,IAAnBZ,EAAkB,EAAlBA,YAEba,ECrBc,WAEpB,MAAgCC,mBAAS,MAAzC,oBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BF,mBAAS,MAAnC,oBAAOG,EAAP,KAAcC,EAAd,KAcA,OAZAC,qBAAU,WACN,wBAAC,+BAAAC,EAAA,+EAE0BC,MAAM,WAFhC,cAEaC,EAFb,gBAGyBA,EAAKA,OAH9B,OAGaT,EAHb,OAIOG,EAAYH,GAJnB,kDAMOK,EAAS,EAAD,IANf,yDAAD,KASD,IAEI,CAAEH,WAAUE,SDIPM,GACNC,EAASX,EAAIE,SAEnB,OACI,eAACT,GAAD,WACI,cAACF,GAAD,IACCS,EAAIE,SACL,qCACA,eAACP,GAAD,WACI,cAACE,GAAD,yDACA,cAAC,GAAD,CAAUX,SAAUyB,EAAOC,OAAQzB,YAAaA,OAEpD,eAACQ,GAAD,WACI,cAACE,GAAD,sGACA,cAAC,GAAD,CAAUX,SAAUyB,EAAOE,MAAO1B,YAAaA,UAE7Ca,EAAII,MACV,gEACA,iD,SEvCCU,GAAU3E,IAAOS,IAAV,6PAaPmE,GAAa5E,IAAO2D,GAAV,8HAOVkB,GAAQ7E,IAAOS,IAAV,kIAQLqE,GAAa9E,IAAO+E,KAAV,8FC3BjBC,GAAehF,IAAOS,IAAV,qFAIZwE,GAAajF,IAAOkF,MAAV,gJAOVC,GAAcnF,IAAOC,OAAV,oKAUV,SAASmF,GAAT,GAA+D,IAA1C3C,EAAyC,EAAzCA,MAAiB4C,GAAwB,EAAlCC,SAAkC,EAAxBD,UAAUE,EAAc,EAAdA,WACnD,OACI,eAACP,GAAD,WACI,gGACA,gCACI,cAACG,GAAD,CAAaK,SAAU/C,GAAS,EAAGjB,QAAS,kBAAM+D,EAAW9C,EAAQ,IAArE,eACA,cAACwC,GAAD,CAAYQ,KAAK,SAASC,IAAI,IAAIC,IAAI,MAAMN,SAAUA,EAC1CO,MAAOnD,IACnB,cAAC0C,GAAD,CAAaK,SAAU/C,GAAS,IAAKjB,QAAS,kBAAM+D,GAAY9C,EAAQ,IAAxE,qBC7BhB,I,MCDO,I,MAAMoD,GAAa7F,IAAOS,IAAV,sHAOVqF,GAAc9F,IAAO+F,MAAV,yECLlBC,GAAkBhG,IAAOkF,MAAV,4EAKd,SAASe,GAAT,GAA+C,IAA3BC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,cACjC,OACI,qCACI,6EACA,cAACN,GAAD,UACKK,EAASjD,KAAI,SAACZ,EAAM+D,GAAP,OACV,eAACN,GAAD,WACI,cAACE,GAAD,CACIP,KAAK,WACLnD,QAASD,EAAKC,QACd+C,SAAU,kBAAMc,EAAcC,MAEjC/D,EAAKa,OANQkD,WCXtC,I,eAAMC,GAAcrG,IAAOkF,MAAV,4EAKV,SAASoB,GAAT,GAAuD,IAApCC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,cACxC,OACI,qCACI,mFACA,cAACZ,GAAD,UACKU,EAASG,QAAQzD,KAAI,SAAAZ,GAAI,OACtB,eAACyD,GAAD,WACI,cAACO,GAAD,CACIZ,KAAK,QACLvC,KAAK,UACLZ,QAASkE,IAAWnE,EACpBuD,MAAOvD,EACPgD,SAAUoB,IAEbpE,IARaA,WCHtC,I,8BAAMsE,GAAQ3G,IAAOS,IAAV,2NAQL2C,GAASpD,IAAOS,IAAV,oKAGgB,qBAAGI,OAIzB+F,GAAU5G,IAAOyD,QAAV,yKAOPoD,GAAgB7G,IAAOS,IAAV,2KAObqG,GAAiB9G,IAAOS,IAAV,uFAYPsG,GAAY,SAAC,GAAkD,IAAhDR,EAA+C,EAA/CA,SAAUvD,EAAqC,EAArCA,YAAagE,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAEjDC,ECrDH,SAAkBC,GACrB,MAA0BrD,mBAASqD,GAAc,GAAjD,oBAAO1E,EAAP,KAAc6C,EAAd,KAEMC,EAAa,SAACK,GAEhBN,EADAM,EAAQA,EAAQ,EAAI,EAAIA,EAAQ,IAAM,IAAMA,IAOhD,MAAO,CAACnD,QAAO6C,WAAUD,SAJR,SAAA+B,GACb,IAAMxB,EAAQwB,EAAEC,OAAOzB,MAAM0B,QAAQ,MAAO,IAC5C/B,EAAWK,IAEoBL,cD0CnBgC,CAAShB,EAAS9D,OAC5ByD,EJ/CH,SAAqBK,GAExB,IAAMiB,EAAejB,EAASpE,QAAUoE,EAASpE,QAC7BoE,EAASL,SATd,SAAAA,GAAQ,OAAIA,EAASjD,KAAI,SAAAZ,GAAI,MAAK,CAC7Ca,KAAMb,EACNC,SAAS,MAO2BmF,CAAWlB,EAASL,UACxC,GACpB,EAAgCpC,mBAAS0D,GAAzC,oBAAOtB,EAAP,KAAiBwB,EAAjB,KAYA,MAAO,CAACxB,WAAUC,cAVI,SAAAwB,GAClBD,EAAYxB,EAASjD,KAAI,SAACZ,EAAM+D,GAC5B,IAAMwB,EAAO,eAAOvF,GAIpB,OAHI+D,IAAMuB,IACNC,EAAQtF,SAAWsF,EAAQtF,SAExBsF,QIkCEC,CAAYtB,GACvBG,EEvDH,SAAoBH,GAEvB,MAA4BzC,qBAA5B,oBAAO0C,EAAP,KAAesB,EAAf,KAMA,MAAO,CAACtB,SAAQC,cAJhB,SAAuBW,GACpBU,EAAUV,EAAEC,OAAOzB,SFkDNmC,GACVC,EAASzB,EAASoB,OAAS,EAO3B1F,EAAK,2BACJsE,GADI,IAEP9D,MAAOyE,EAAQzE,MACfN,QAAS+D,EAASA,SAClBM,OAAQE,EAAQF,SAepB,OACI,cAAC7B,GAAD,CAASxB,GAAG,UAAU3B,QAzBP,SAAA4F,GACI,YAAhBA,EAAEC,OAAOlE,IACRH,EAAY,OAuBhB,SACI,eAAC2D,GAAD,CAAOxD,GAAG,QAAV,UACI,cAAC,GAAD,CAAQtC,IAAK0F,EAAS1F,MACtB,eAAC+F,GAAD,WACI,eAACC,GAAD,WACI,8BAAMN,EAASrD,OACf,8BAAMvB,EAAe4E,EAAS3E,YAElC,cAACwD,GAAD,eAAe8B,IACdX,EAASL,UAAY,cAACD,GAAD,eAAcC,IANxC,IAOKK,EAASG,SAAW,cAACJ,GAAD,2BAAaI,GAAb,IAAsBH,SAAUA,KACrD,eAACO,GAAD,WACI,4DACA,+BAAOnF,EAAeK,EAAgBC,SAE1C,cAAC/B,EAAD,CACIsB,QAASwG,EA7BX,WACd,IAAMC,EAAS,aAAOjB,GACtBiB,EAAU1B,EAASoB,OAAS1F,EAC5BgF,EAAUgB,GACVjF,EAAY,OAGG,WACfiE,EAAU,GAAD,oBAAKD,GAAL,CAAa/E,KACtBe,EAAY,OAqBIwC,SAAUvD,EAAMyE,UAAYzE,EAAMuE,OAFtC,SAGMwB,EAAS,mDAAa,8DGvGjC,OAA0B,kCCMnCE,GAAclI,IAAOC,OAAV,yQAKWkI,IAKtBC,GAAkBpI,IAAO6C,GAAV,qHAOfwF,GAAWrI,IAAO+E,KAAV,iDAGRuD,GAAYtI,IAAO+E,KAAV,yHAMTkB,GAAWjG,IAAOS,IAAV,2FAKR6F,GAAUtG,IAAOS,IAAV,2FAMA8H,GAAgB,SAAC,GAAgD,IAA7CtG,EAA4C,EAA5CA,MAAO0F,EAAqC,EAArCA,MAAOa,EAA8B,EAA9BA,WAAYxF,EAAkB,EAAlBA,YACjDb,EAAUF,EAAME,QAAQC,QAAO,SAAAC,GAAI,OAAIA,EAAKC,WAC7CW,KAAI,SAAAZ,GAAI,OAAIA,EAAKa,QAAMuF,KAAK,MAE3BC,EAAYC,iBAAO,MAEzB,OACI,eAACP,GAAD,CAAiB5G,QAAS,SAAC4F,GAAD,OAAOA,EAAEC,SAAWqB,EAAUE,SACxC5F,EAAY,2BAAIf,GAAL,IAAY0F,YADvC,cAEI,cAACU,GAAD,UAAWpG,EAAMiB,OACjB,+BAAOjB,EAAMQ,QACb,cAAC6F,GAAD,UAAY3G,EAAeK,EAAgBC,MAC3C,cAACiG,GAAD,CAAaW,IAAKH,EAAWlH,QAAS,kBAAMgH,EAAWb,MACtDxF,GAAW,eAAC,GAAD,0DAAoBA,KAC/BF,EAAMuE,QAAU,eAAC,GAAD,iEAAqBvE,EAAMuE,cClDlDsC,GAAc9I,IAAOyD,QAAV,sRAYXsF,GAAe/I,IAAOS,IAAV,0JAGZuI,GAAYhJ,IAAO2C,GAAV,gCAGTsG,GAAYjJ,IAAOgB,EAAV,uDAIFkI,GAAQ,SAAC,GAOX,IANHlC,EAME,EANFA,OACAC,EAKE,EALFA,UACAjE,EAIE,EAJFA,YACA9B,EAGE,EAHFA,iBACAC,EAEE,EAFFA,MACAgI,EACE,EADFA,oBAGEX,EAAa,SAAAb,GACf,IAAMM,EAAYjB,EAAO5E,QAAO,SAACC,EAAM+D,GAAP,OAAauB,IAAUvB,KACvDa,EAAUgB,IAGRmB,EAAQpC,EAAOqC,QAAO,SAACC,EAAQrH,GAAT,OAChBD,EAAgBC,GAASqH,IAAQ,GAEvCC,EAAevC,EAAOqC,QAAO,SAACC,EAAQrH,GAAT,OACdA,EAAMQ,MAAQ6G,IAAQ,GAW3C,OACI,eAACR,GAAD,WACI,cAAClE,GAAD,gEACA,cAACmE,GAAD,UACM/B,EAAOzE,OACT,eAACyG,GAAD,qBACMhC,EAAO/D,KAAI,SAAChB,EAAO0F,GAAR,OAAkB,cAAC,GAAD,CAEvB1F,MAAOA,EACPuG,WAAYA,EACZb,MAAOA,EACP3E,YAAaA,GAJR2E,SAOjB,cAACsB,GAAD,yHAEJ,eAACpE,GAAD,WACI,mEACA,iCAAO0E,EAAP,oBACA,cAACzE,GAAD,UAAanD,EAAeyH,QAEhC,cAAClJ,EAAD,CAAgBsB,QA9BN,WACVN,GACAsI,QAAQC,IAAIzC,EAAOzE,QACnB4G,GAAoB,IAEpBhI,KA0BgBqE,SAA4B,IAAlBwB,EAAOzE,OADjC,kEC7EL,I,MCIDoE,GAAQ3G,IAAOS,IAAV,2KAQLiJ,GAAO1J,IAAO2J,GAAV,iFAKJC,GAAY,CACdC,SAAU,CAAC,QACXjI,MAAO,CAAC,SACRa,MAAO,CAAC,SACRN,QAAS,CAAC,UAAW,SAAA2H,GAAG,OAAIA,EAAI1H,QAAO,SAAA2H,GAAG,OAAIA,EAAIzH,WAASW,KAAI,SAAA8G,GAAG,OAAIA,EAAI7G,SAClE,SAAA4G,GAAG,OAAIA,EAAIvH,OAASuH,EAAM,eAClCtD,OAAQ,CAAC,SAAU,SAAAnE,GAAI,OAAIA,GAAc,gBAGvC2H,GAAY,SAACC,EAAUjD,EAAQ9F,GACjC,IAAMgJ,EAAWlD,EAAO/D,InBfF,SAAAkH,GACtB,IAAMC,EAAOC,OAAOD,KAAKD,GACzB,OAAO,SAAAJ,GAAG,OAAIK,EAAKf,QAAO,SAACiB,EAAQC,GAE/B,OADAD,EAAOC,GAAOJ,EAAMI,GAAKlB,QAAO,SAACmB,EAAKC,EAAIrE,GAAV,OAAiBA,EAAIqE,EAAGD,GAAOT,EAAIU,KAAM,MAClEH,IACR,KmBUyBI,CAAWd,KAEvCK,EAASpB,IAAI,UAAU8B,OAAOC,IAAI,CAC9BC,WAAY3J,EAAiBO,YAC7BqJ,MAAO5J,EAAiB4J,MACxB7I,MAAOiI,KAIFa,GAAe,SAAC,GAKlB,IAJH/D,EAIE,EAJFA,OAAQC,EAIN,EAJMA,UACR/F,EAGE,EAHFA,iBACAiI,EAEE,EAFFA,oBAGEc,GAAWe,EADX,EADFA,oBAGE5B,EAAQpC,EAAOqC,QAAO,SAACC,EAAQrH,GAAT,OAChBD,EAAgBC,GAASqH,IAAQ,GAO7C,OACI,cAAC3E,GAAD,CAASxB,GAAG,kBAAkB3B,QANf,SAAA4F,GACI,oBAAhBA,EAAEC,OAAOlE,IACRgG,GAAoB,IAIxB,SACI,eAAC,GAAD,WACI,cAACvE,GAAD,UAAa1D,EAAiBO,cAC9B,cAACiI,GAAD,mIACA,eAAC7E,GAAD,WACI,kGACA,cAACC,GAAD,UAAanD,EAAeyH,QAEhC,cAACjJ,EAAD,CAAeqB,QAAS,WAChB2H,GAAoB,GACpBa,GAAUC,EAAUjD,EAAQ9F,GAC5B+F,EAAU,KAHlB,sFCpChBgE,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,4BACZC,YAAa,mEACbC,UAAW,YACXC,cAAe,wBACfC,kBAAmB,gBACnBC,MAAO,+CAgCMC,OA3Bf,WACE,IAAMC,EC3BD,SAAiBC,GACpB,MAAgD9H,mBAAS,MAAzD,oBAAO5C,EAAP,KAAyB2K,EAAzB,KAEMF,EAAOC,IAEPE,EAAW,IAAIF,EAAaG,mBAalC,OANA5H,qBAAU,WACNwH,EAAKK,oBAAmB,SAAAC,GACbJ,EAAPI,GAAuD,WAE5D,CAACN,EAAMzK,IAEH,CAAEA,mBAAkBC,MAXb,kBAAMwK,EAAKO,gBAAgBJ,IAWP1K,OATnB,kBAAMuK,EAAKQ,UACrBC,OAAM,SAAAC,GAAG,OAAI7C,QAAQvF,aDiBfqI,CAAQrB,IAASU,MACxBpF,EE5BD,WACH,MAAgCzC,mBAAS,MAAzC,oBACA,MAAO,CAACyC,SADR,KACkBvD,YADlB,MF2BeuJ,GACXvF,EG7BD,WACH,MAA4BlD,mBAAS,IAArC,oBACA,MAAO,CAACkD,OADR,KACgBC,UADhB,MH4BauF,GACTC,EI9BuB,WAC3B,MAAgD3I,oBAAS,GAAzD,oBACA,MAAO,CAAE4I,iBADT,KAC2BvD,oBAD3B,MJ6BmBwD,GAGrB,OFjCsB,SAAApG,GACtBpC,qBAAU,WAERyI,SAASC,MAAQtG,EAAWA,EAASrD,KAAO,cAC3C,CAACqD,IE2BJuG,CAASvG,EAASA,UAGhB,qCACE,cAAC1G,EAAD,IACA,cAAC,EAAD,eAAY8L,IACZ,cAAC,GAAD,mDACM3E,GACAT,GACAoF,GACAc,IAEN,cAAC,GAAD,eAAUlG,IACRA,EAASA,UAAY,cAAC,GAAD,2BAAeA,GAAcS,IAVtD,IAYIyF,EAAaC,kBAAoB,cAAC,GAAD,mDAAkB1F,GAAY2E,GAAUc,GAAxC,IACjCzB,iBAAkBC,IAAS8B,gBKrCpBC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFf,SAASgB,eAAe,SAM1BZ,O","file":"static/js/main.2e8f322c.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  html {\r\n    box-sizing: border-box;\r\n   }\r\n   *,\r\n   *::before,\r\n   *::after {\r\n     box-sizing: inherit;\r\n   }\r\n\r\n   body {\r\n     margin: 0;\r\n     background-color: #f0f0f0;\r\n     font-family: Roboto, sans-serif;\r\n     font-size: 20px;\r\n     color: black\r\n   }\r\n   img {\r\n     max-width: 100%;\r\n     height: auto;\r\n   }\r\n   a {\r\n     text-decoration: none;\r\n     color: inherit;\r\n   }\r\n   ul {\r\n     list-style: none;\r\n     padding: 0;\r\n     margin: 0;\r\n   }\r\n   h1, h2, h3 {\r\n    font-family: Pacifico;\r\n    padding: 0;\r\n    margin: 0;\r\n   }\r\n   p {\r\n    padding: 0;\r\n    margin: 0;\r\n   }\r\n   button {\r\n    cursor: pointer;\r\n   }\r\n   input, button {\r\n     font: inherit;\r\n   }\r\n   input [type='number'] {\r\n     -moz-appearance: textfield;\r\n   }\r\n   input::-webkit-outer-spin-button,\r\n   input::-webkit-inner-spin-button {\r\n     -webkit-appearance: none;\r\n   }\r\n\r\n`;","export default __webpack_public_path__ + \"static/media/logo.e1eaca91.svg\";","export default __webpack_public_path__ + \"static/media/user.3dc24465.svg\";","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n    position: relative;\r\n    font-size: inherit;\r\n    text-decoration: none;\r\n    color: #002878;\r\n    border-radius: 30px;\r\n    background-image: linear-gradient(45deg, #6ab1d7 0%, #33d9de 50%, #002878 100%);\r\n    background-position: 90% 0;\r\n    background-size: 200% 200%;\r\n    box-shadow: 0 16px 32px 0 rgba(0, 40, 120, .35);\r\n    transition: .5s;\r\n    &:hover {\r\n        box-shadow: 0 0 0 0 rgba(0, 40, 120, 0);\r\n        background-position: 0 0;\r\n    }\r\n`;\r\nexport const ButtonCheckout = styled(Button)`\r\n    width: fit-content;\r\n    margin: 0 auto;\r\n    padding: 8px 30px;\r\n\r\n    &:disabled {\r\n        background-image: none;\r\n        box-shadow: none;\r\n        background-color: #bbb;\r\n    }\r\n`;\r\n\r\nexport const ButtonApprove = styled(ButtonCheckout)`\r\n    color: #33d9de;\r\n    text-shadow: 1px 1px 1px #002878;\r\n`;\r\n\r\nexport const ButtonLogIn = styled(Button)`\r\n    width: 60px;\r\n    height: 60px;\r\n`;\r\n\r\nexport const ButtonLogOut = styled(ButtonLogIn)`\r\n    font-size: 30px;\r\n    font-weight: 800;\r\n`;\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport logoImg from '../../image/logo.svg';\r\nimport userImg from '../../image/user.svg';\r\nimport { ButtonLogIn, ButtonLogOut } from '../Styled/Buttons';\r\n\r\nconst NavBarStyled = styled.header`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 999;\r\n    height: 80px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 15px;\r\n    background-color: #33d9de;\r\n    box-shadow: 0px 4px 5px rgba(0, 40, 120, 0.25);\r\n    color: #002878;\r\n`;\r\nconst Logo = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\nconst H1 = styled.h1`\r\n    font-size: 30px;\r\n    margin-left: 15px;\r\n`;\r\nconst ImgLogo = styled.img`\r\n    width: 70px;\r\n`;\r\nconst UserLog = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 20px;\r\n`;\r\nconst Welcome = styled.p`\r\n    margin-right: 10px;\r\n    width: 120px;\r\n    text-align: center;\r\n`;\r\n\r\nexport const NavBar = ({ authentification, logIn, logOut }) => (\r\n    <NavBarStyled>\r\n        <Logo>\r\n            <ImgLogo src={logoImg} alt=\"logo\"/>\r\n            <H1>MrMagamba®</H1>\r\n        </Logo>\r\n        {authentification ?\r\n        <UserLog onClick={logOut}>\r\n            <Welcome>{authentification.displayName}</Welcome>\r\n            <ButtonLogOut>X</ButtonLogOut>\r\n        </UserLog> :\r\n        <UserLog onClick={logIn}>\r\n            <Welcome>Войти</Welcome>\r\n            <ButtonLogIn>\r\n                <img src={userImg} alt=\"Поесть\"></img>\r\n            </ButtonLogIn>\r\n        </UserLog>\r\n        }\r\n    </NavBarStyled>\r\n)","\r\nexport const formatCurrency = price => price.toLocaleString('ru-RU', {style: 'currency', currency: 'RUB'});\r\n\r\nexport const totalPriceItems = order => {\r\n\r\n    const countTopping = order.topping && order.topping.filter(item => item.checked).length;\r\n\r\n    //const countChoice = order.choise && order.choise.filter(item => item.checked).length;\r\n\r\n    const priceTopping = (order.price * 0.1) * countTopping;\r\n\r\n    return (order.price + priceTopping) * (order.count < 1 ? 1 : order.count > 100 ? 100 : order.count);\r\n}\r\n\r\nexport const projection = rules => {\r\n    const keys = Object.keys(rules);\r\n    return obj => keys.reduce((newObj, key) => {\r\n        newObj[key] = rules[key].reduce((val, fn, i) => (i ? fn(val) : obj[fn]), null)\r\n        return newObj;\r\n    }, {})\r\n};\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { formatCurrency } from '../Functions/secondaryFunc';\r\n\r\nconst List = styled.ul`\r\n    display: flex;\r\n    justify-content: space-around; {/*для переноса элем на нов строку*/}\r\n    flex-wrap: wrap;\r\n\r\n`;\r\nconst Item = styled.li`\r\n    position: relative;\r\n    width: 400px; {/*из верстки в figma*/}\r\n    height: 155px;\r\n    background-image: ${({ img }) => `url(${img})`}; {/*{ img } - это деструкт props */}\r\n    background-position: center;\r\n    background-size: cover;\r\n    margin-top: 30px;\r\n    margin-right: 20px;\r\n    padding: 15px;\r\n    font-size: 24px;\r\n    color: #33d9de;\r\n    z-index: 1;\r\n    &:hover {\r\n        cursor: pointer;\r\n        box-shadow: inset 0 0 50px 30px black;\r\n        &:after {\r\n            opacity: 0;\r\n        }\r\n    }\r\n    &:after {  {/*псевдо-элем с затемнением на весь блок с img*/}\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        right: 0;\r\n        left: 0;\r\n        background-color: #000;\r\n        opacity: 40%;\r\n        z-index: -1;\r\n    }\r\n`;\r\n\r\nexport const ListItem = ({ itemList, setOpenItem }) => (\r\n    <List>\r\n        {itemList.map(item => (\r\n            <Item    /*key for rerender autentification objects*/\r\n                key={item.id}\r\n                img={item.img}\r\n                onClick={() => setOpenItem(item)}>\r\n                <p>{item.name}</p>\r\n                <p>{formatCurrency(item.price)}</p>\r\n            </Item>\r\n        ))}\r\n\r\n    </List>\r\n);","export default __webpack_public_path__ + \"static/media/banner.7c11c243.png\";","import styled from 'styled-components';\r\nimport bannerImg from '../../image/banner.png';\r\n\r\nexport const Banner = styled.div`\r\n    background-image: url(${bannerImg});\r\n    height: 210px;\r\n    width: 100%;\r\n    background-position: center;\r\n    background-size: cover;\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ListItem } from './ListItem';\r\nimport { Banner } from './Banner';\r\nimport { useFetch } from '../Hooks/useFetch';\r\n\r\nconst MenuStyled = styled.main`\r\n    background-color: #ccc;\r\n    margin-top: 80px;\r\n    margin-left: 380px;\r\n`;\r\n\r\nconst SectionMenu = styled.section`\r\n    padding: 30px;\r\n`;\r\n\r\nconst MenuHeader = styled.h2`\r\n    font-size: 32px;\r\n    color: #002878;\r\n`;\r\n\r\nexport const Menu = ({ setOpenItem }) => {\r\n\r\n    const res = useFetch();\r\n    const dbMenu = res.responce;\r\n\r\n    return (\r\n        <MenuStyled>\r\n            <Banner/>\r\n            {res.responce ?\r\n            <>\r\n            <SectionMenu>\r\n                <MenuHeader>Бургеры</MenuHeader>\r\n                <ListItem itemList={dbMenu.burger} setOpenItem={setOpenItem}/>\r\n            </SectionMenu>\r\n            <SectionMenu>\r\n                <MenuHeader>Закуски / Напитки</MenuHeader>\r\n                <ListItem itemList={dbMenu.other} setOpenItem={setOpenItem}/>\r\n            </SectionMenu>\r\n            </> : res.error ?\r\n            <div>Sorry, we will fix it soon...</div> :\r\n            <div>Loading...</div>\r\n            }\r\n        </MenuStyled>\r\n    )\r\n};","import { useEffect, useState } from 'react';\r\n\r\nexport const useFetch = () => {\r\n\r\n    const [responce, setResponce] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        (async() => {\r\n            try {\r\n                const json = await fetch('DB.json');\r\n                const res = await json.json();\r\n                setResponce(res);\r\n            } catch(err) {\r\n                setError(err);\r\n            }\r\n        })();\r\n    }, []); // пустой массив чтобы запустилась 1 раз\r\n\r\n    return { responce, error };\r\n}","import styled from 'styled-components';\r\n\r\nexport const Overlay = styled.div`\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    top: 40px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    z-index: 20;\r\n`;\r\n\r\nexport const OrderTitle = styled.h2`\r\n    text-align: center;\r\n    font-weight: 400;\r\n    line-height: 68px;\r\n    margin-bottom: 30px;\r\n`;\r\n\r\nexport const Total = styled.div`\r\n    display: flex;\r\n    margin: 0 35px 30px;\r\n    & span:first-child {\r\n        flex-grow: 1;\r\n    }\r\n`;\r\n\r\nexport const TotalPrice = styled.span`\r\n    text-align: right;\r\n    width: 120px;\r\n    margin-left: 5px;\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst CountWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n`;\r\nconst CountInput = styled.input`\r\n    width: 40px;\r\n    font-size: 20px;\r\n    background-color: #33d9de;\r\n    border: none;\r\n    text-align: center;\r\n`;\r\nconst ButtonCount = styled.button`\r\n    background-color: #002878;\r\n    border: none;\r\n    border-radius: 3px;\r\n    width: 30px;\r\n    height: 30px;\r\n    color: #33d9de;\r\n\r\n`;\r\n\r\nexport function CountItem({ count, setCount, onChange, validCount }) {\r\n    return (\r\n        <CountWrapper>\r\n            <span>Количество</span>\r\n            <div>\r\n                <ButtonCount disabled={count <= 1} onClick={() => validCount(count - 1)}>-</ButtonCount>\r\n                <CountInput type='number' min='1' max='100' onChange={onChange}\r\n                            value={count}/>\r\n                <ButtonCount disabled={count >= 100} onClick={() => validCount(+count + 1)}>+</ButtonCount>\r\n            </div>\r\n        </CountWrapper>\r\n\r\n    )\r\n}","import { useState } from 'react';\r\n\r\n// преобразовываем [] с топпингами в объект с key\r\nconst getTopping = toppings => toppings.map(item => ({\r\n        name: item,\r\n        checked: false,\r\n})) // получим [{name: 'Лук', checked: false}, {name: 'Соус', checked: false}]\r\n\r\n\r\nexport function useToppings(openItem) {\r\n\r\n    const readyTopping = openItem.topping ? openItem.topping : //были  -их и вернем\r\n                        openItem.toppings ? getTopping(openItem.toppings) :\r\n                        []; //наличие топпингов?\r\n    const [toppings, setToppings] = useState(readyTopping);\r\n\r\n    const checkToppings = index => {\r\n        setToppings(toppings.map((item, i) => {\r\n            const newItem = {...item}  // при работе с hooks можно без new\r\n            if (i === index) {\r\n                newItem.checked = !newItem.checked\r\n            }\r\n            return newItem;\r\n        }))\r\n    }\r\n\r\n    return {toppings, checkToppings};\r\n}","import styled from 'styled-components';\r\n\r\nexport const SelectWrap = styled.div`\r\n    max-width: 500px;\r\n    margin: 0 auto;\r\n    column-count: 2;\r\n    column-gap: 5px;\r\n`;\r\n\r\nexport const SelectLabel = styled.label`\r\n    cursor: pointer;\r\n    display: block;\r\n`;\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { SelectWrap, SelectLabel } from './selectionWrapper';\r\n\r\nconst ToppingCheckbox = styled.input`\r\n    cursor: pointer;\r\n    margin-right: 5px;\r\n`;\r\n\r\nexport function Toppings( {toppings, checkToppings}) {\r\n    return (\r\n        <>\r\n            <h3>Добавки:</h3>\r\n            <SelectWrap>\r\n                {toppings.map((item, i) => (\r\n                    <SelectLabel key={i}>\r\n                        <ToppingCheckbox\r\n                            type=\"checkbox\"\r\n                            checked={item.checked}\r\n                            onChange={() => checkToppings(i)} //передали index топпинга\r\n                            />\r\n                        {item.name}\r\n                    </SelectLabel>\r\n                ))}\r\n\r\n            </SelectWrap>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { SelectWrap, SelectLabel } from './selectionWrapper';\r\n\r\nconst ChoiceRadio = styled.input`\r\n    cursor: pointer;\r\n    margin-right: 5px;\r\n`;\r\n\r\nexport function Choices({ openItem, choice, changeChoices }) {\r\n    return (\r\n        <>\r\n            <h3>Выберите:</h3>\r\n            <SelectWrap>\r\n                {openItem.choices.map(item => (\r\n                    <SelectLabel key={item}>\r\n                        <ChoiceRadio\r\n                            type=\"radio\"\r\n                            name=\"choices\"\r\n                            checked={choice === item}\r\n                            value={item}\r\n                            onChange={changeChoices}\r\n                            />\r\n                        {item}\r\n                    </SelectLabel>\r\n                ))}\r\n            </SelectWrap>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ButtonCheckout } from '../Styled/Buttons';\r\nimport { Overlay } from '../Styled/Components';\r\nimport { CountItem } from './CountItem';\r\nimport { useCount } from '../Hooks/useCount';\r\nimport { useToppings } from '../Hooks/useToppings';\r\nimport { useChoices } from '../Hooks/useChoices';\r\nimport { formatCurrency, totalPriceItems } from '../Functions/secondaryFunc';\r\nimport { Toppings } from '../Modal/Toppings';\r\nimport { Choices } from '../Modal/Choices';\r\n\r\nconst Modal = styled.div`\r\n    background-color: #33d9de;\r\n    width: 600px;\r\n    height: 600px;\r\n    color: #002878;\r\n    /*transform: translateY(-5%);*/\r\n    /*box-shadow: 0px 0px 5px 3px rgba(0, 40, 120, 0.3);*/\r\n`;\r\nconst Banner = styled.div`\r\n    width: 100%;\r\n    height: 200px;\r\n    background-image: url(${({ img }) => img});\r\n    background-size: cover;\r\n    background-position: center;\r\n`;\r\nconst Content = styled.section `\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    height: calc(100% - 200px);\r\n    padding: 30px;\r\n`;\r\nconst HeaderContent = styled.div `\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    font-family: 'Pacifico', cursive;\r\n`;\r\nconst TotalPriceItem = styled.div `\r\n    display: flex;\r\n    justify-content: space-between;\r\n`;\r\n\r\n// const animModal = () =>{\r\n//     const modalForm = document.getElementById('modal');\r\n//     console.log('modalForm: ', modalForm);\r\n\r\n\r\n// }\r\n\r\nexport const ModalItem = ({ openItem, setOpenItem, orders, setOrders }) => {\r\n\r\n    const counter = useCount(openItem.count); //передали исх количество при откр мод\r\n    const toppings = useToppings(openItem);\r\n    const choices = useChoices(openItem);\r\n    const isEdit = openItem.index > -1; //true если из заказов, из меню index - undef -> false\r\n\r\n    const closeModal = e => {\r\n        if(e.target.id === 'overlay') {\r\n            setOpenItem(null);\r\n        }\r\n    }\r\n    const order = {\r\n        ...openItem, // передали все свойства\r\n        count: counter.count,\r\n        topping: toppings.toppings,\r\n        choice: choices.choice,\r\n    };\r\n\r\n    const editOrder = () => {\r\n        const newOrders = [...orders];\r\n        newOrders[openItem.index] = order;\r\n        setOrders(newOrders);\r\n        setOpenItem(null);\r\n    }\r\n\r\n    const addToOrder = () => {\r\n        setOrders([...orders, order]); //новый заказ в конец массива старых\r\n        setOpenItem(null); //закрыли модалку\r\n    }\r\n\r\n    return (\r\n        <Overlay id=\"overlay\" onClick={closeModal}>\r\n            <Modal id=\"modal\">\r\n                <Banner img={openItem.img}/>\r\n                <Content>\r\n                    <HeaderContent>\r\n                        <div>{openItem.name}</div>\r\n                        <div>{formatCurrency(openItem.price)}</div>\r\n                    </HeaderContent>\r\n                    <CountItem {...counter}/>\r\n                    {openItem.toppings && <Toppings {...toppings}/>} {/*выводим только если есть*/}\r\n                    {openItem.choices && <Choices {...choices} openItem={openItem}/>}\r\n                    <TotalPriceItem>\r\n                        <span>Цена</span>\r\n                        <span>{formatCurrency(totalPriceItems(order))}</span>\r\n                    </TotalPriceItem>\r\n                    <ButtonCheckout\r\n                        onClick={isEdit ? editOrder : addToOrder}\r\n                        disabled={order.choices && !order.choice}\r\n                        >{isEdit ? 'Изменить' : 'Добавить'}</ButtonCheckout>\r\n                </Content>\r\n            </Modal>\r\n        </Overlay>\r\n\r\n    )\r\n};\r\n","import { useState } from 'react';\r\n\r\nexport function useCount(startCount) {\r\n    const [count, setCount] = useState(startCount || 1);\r\n\r\n    const validCount = (value) => {\r\n        value = value < 1 ? 1 : value > 100 ? 100 : value;\r\n        setCount(value);\r\n    }\r\n    const onChange = e => {\r\n        const value = e.target.value.replace(/^0+/, '');\r\n        validCount(value)\r\n    }\r\n    return {count, setCount, onChange, validCount};\r\n}","import { useState } from 'react';\r\n\r\nexport function useChoices(openItem) {\r\n\r\n    const [choice, setChoice] = useState();\r\n\r\n    function changeChoices(e) {\r\n       setChoice(e.target.value);\r\n    }\r\n\r\n    return {choice, changeChoices};\r\n}\r\n","export default __webpack_public_path__ + \"static/media/trash.eb1a306d.svg\";","import React, { useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport trashImg from '../../image/trash.svg';\r\nimport { formatCurrency } from '../Functions/secondaryFunc';\r\nimport { totalPriceItems } from '../Functions/secondaryFunc';\r\n\r\nconst TrashButton = styled.button`\r\n    width: 24px;\r\n    height: 24px;\r\n    border-color: transparent;\r\n    background-color: transparent;\r\n    background-image: url(${trashImg});\r\n    background-position: center;\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n`;\r\nconst OrderItemStyled = styled.li`\r\n    display: flex;\r\n    margin: 15px 0;\r\n    flex-wrap: wrap;\r\n    cursor: pointer;\r\n\r\n`;\r\nconst ItemName = styled.span`\r\n    flex-grow: 1;\r\n`;\r\nconst ItemPrice = styled.span`\r\n    margin-left: 5px;\r\n    margin-right: 10px;\r\n    width: 120px;\r\n    text-align: right;\r\n`;\r\nconst Toppings = styled.div`\r\n    color: #9a9a9a;\r\n    font-size: 14px;\r\n    width: 100%;\r\n`;\r\nconst Choices = styled.div`\r\n    color: #9a9a9a;\r\n    font-size: 14px;\r\n    width: 100%;\r\n`;\r\n\r\nexport const OrderListItem = ( { order, index, deleteItem, setOpenItem }) => {\r\n    const topping = order.topping.filter(item => item.checked)\r\n        .map(item => item.name).join(', ');\r\n\r\n    const refDelBtn = useRef(null); //стандарт хук не рендерит(сохр ссылку на эл-т)\r\n\r\n    return (\r\n        <OrderItemStyled onClick={(e) => e.target !== refDelBtn.current &&\r\n                        setOpenItem({...order, index})}> {/*откр модал кликом по заказу*/}\r\n            <ItemName>{order.name}</ItemName>\r\n            <span>{order.count}</span>\r\n            <ItemPrice>{formatCurrency(totalPriceItems(order))}</ItemPrice>\r\n            <TrashButton ref={refDelBtn} onClick={() => deleteItem(index)}/>\r\n            {topping && <Toppings>Добавки: {topping}</Toppings>}\r\n            {order.choice && <Choices>Ваш выбор: {order.choice}</Choices>}\r\n\r\n        </OrderItemStyled>\r\n    )\r\n};","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ButtonCheckout } from '../Styled/Buttons';\r\nimport { OrderTitle, Total, TotalPrice } from '../Styled/Components';\r\nimport { OrderListItem } from './OrderListItem';\r\nimport { formatCurrency, totalPriceItems, projection } from '../Functions/secondaryFunc';\r\n\r\nconst OrderStyled = styled.section`\r\n    position: fixed;\r\n    display: flex;\r\n    flex-direction: column;\r\n    top: 80px;\r\n    left: 0;\r\n    background: #fff;\r\n    width: 380px;\r\n    height: calc(100% - 80px);\r\n    box-shadow: 4px 0px 5px rgba(0, 40, 120, 0.25);\r\n    padding: 20px;\r\n`;\r\nconst OrderContent = styled.div`\r\n    flex-grow: 1; {/*растянуть контент */}\r\n`;\r\nconst OrderList = styled.ul`\r\n\r\n`;\r\nconst EmptyList = styled.p`\r\n    text-align: center;\r\n`;\r\n\r\nexport const Order = ({\r\n        orders,\r\n        setOrders,\r\n        setOpenItem,\r\n        authentification,\r\n        logIn,\r\n        setOpenOrderConfirm\r\n    }) => {\r\n\r\n    const deleteItem = index => {\r\n        const newOrders = orders.filter((item, i) => index !== i);\r\n        setOrders(newOrders);\r\n    }\r\n\r\n    const total = orders.reduce((result, order)=> //к-во товара\r\n                totalPriceItems(order) + result, 0)\r\n\r\n    const totalCounter = orders.reduce((result, order)=> //ощее к-во товаров\r\n                        +order.count + result, 0)\r\n\r\n    const checkAuth = () => {\r\n        if (authentification) {\r\n            console.log(orders.length);\r\n            setOpenOrderConfirm(true);\r\n        } else {\r\n            logIn();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <OrderStyled>\r\n            <OrderTitle>ВАШ ЗАКАЗ</OrderTitle>\r\n            <OrderContent>\r\n                { orders.length ?  //проверка наличия заказов\r\n                <OrderList>       {/*перебираем и добав заказы*/}\r\n                    { orders.map((order, index) => <OrderListItem\r\n                            key={index}\r\n                            order={order}\r\n                            deleteItem={deleteItem}\r\n                            index={index}\r\n                            setOpenItem={setOpenItem}\r\n                            />) }\r\n                </OrderList> : //иначе если список пуст\r\n                <EmptyList>Список заказов пуст</EmptyList> }\r\n            </OrderContent>\r\n            <Total>\r\n                <span>Итого:</span>\r\n                <span>{totalCounter} шт.</span>\r\n                <TotalPrice>{formatCurrency(total)}</TotalPrice>\r\n            </Total>\r\n            <ButtonCheckout onClick={checkAuth}\r\n                            disabled={orders.length === 0}>\r\n                Оформить\r\n            </ButtonCheckout>\r\n        </OrderStyled>\r\n    )\r\n}","import { useEffect } from 'react';\r\n\r\nexport const useTitle = openItem => {\r\n  useEffect(() => {\r\n    // Обновляем заголовок документа с помощью API браузера\r\n    document.title = openItem ? openItem.name : 'MrMagamba';\r\n  }, [openItem]) //передали массив - ограничили перерендер при удалении\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Overlay, OrderTitle, Total, TotalPrice } from '../Styled/Components';\r\nimport { ButtonApprove } from '../Styled/Buttons';\r\nimport { formatCurrency, totalPriceItems, projection } from '../Functions/secondaryFunc';\r\n\r\nconst Modal = styled.div`\r\n    background-color: #33d9de;\r\n    color: #002878;\r\n    width: 400px;\r\n    padding: 30px;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\nconst Text = styled.h3`\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n`;\r\n\r\nconst rulesData = { // правила обработки заказа\r\n    itemName: ['name'],\r\n    price: ['price'],\r\n    count: ['count'],\r\n    topping: ['topping', arr => arr.filter(obj => obj.checked).map(obj => obj.name),\r\n            arr => arr.length ? arr : 'no topping'],\r\n    choice: ['choice', item => item ? item : 'no choices'],\r\n};\r\n\r\nconst sendOrder = (dataBase, orders, authentification) => {\r\n    const newOrder = orders.map(projection(rulesData));\r\n\r\n    dataBase.ref('orders').push().set({\r\n        nameClient: authentification.displayName,\r\n        email: authentification.email,\r\n        order: newOrder\r\n    });\r\n};\r\n\r\nexport const OrderConfirm = ({\r\n        orders, setOrders,\r\n        authentification,\r\n        setOpenOrderConfirm,\r\n        firebaseDatabase,\r\n    }) => {\r\n    const dataBase = firebaseDatabase();\r\n    const total = orders.reduce((result, order)=> //к-во товара\r\n                totalPriceItems(order) + result, 0);\r\n\r\n    const closeModal = e => {\r\n        if(e.target.id === 'confirm-overlay') {\r\n            setOpenOrderConfirm(false);\r\n        }\r\n    }\r\n    return (\r\n        <Overlay id=\"confirm-overlay\" onClick={closeModal}>\r\n            <Modal>\r\n                <OrderTitle>{authentification.displayName}</OrderTitle>\r\n                <Text>Подтвердите Ваш заказ</Text>\r\n                <Total>\r\n                    <span>Общая сумма:</span>\r\n                    <TotalPrice>{formatCurrency(total)}</TotalPrice>\r\n                </Total>\r\n                <ButtonApprove onClick={() => {\r\n                        setOpenOrderConfirm(false);\r\n                        sendOrder(dataBase, orders, authentification);\r\n                        setOrders([]);\r\n                    }}>\r\n                    Подтвердить\r\n                </ButtonApprove>\r\n            </Modal>\r\n        </Overlay>\r\n    )\r\n}","import React from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport { GlobalStyle } from './Components/Styled/GlobalStyle';\nimport { NavBar } from './Components/NavBar/NavBar';\nimport { Menu } from './Components/Menu/Menu';\nimport { ModalItem } from './Components/Modal/ModalItem';\nimport { Order } from './Components/Order/Order';\nimport { useOpenItem } from './Components/Hooks/useOpenItem';\nimport { useOrders } from './Components/Hooks/useOrders';\nimport { useAuth } from './Components/Hooks/useAuth';\nimport { useTitle } from './Components/Hooks/useTitle';\nimport { OrderConfirm } from './Components/Order/OrderConfirm';\nimport { useOrderConfirm } from './Components/Hooks/useOrderConfirm';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB01WzjQ2NOa3yW-6lofRB1xDcEu5-pQ-U\",\n  authDomain: \"mrmagamba.firebaseapp.com\",\n  databaseURL: \"https://mrmagamba-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"mrmagamba\",\n  storageBucket: \"mrmagamba.appspot.com\",\n  messagingSenderId: \"1069543412935\",\n  appId: \"1:1069543412935:web:2a8f5046979020db591ae2\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nfunction App() {\n  const auth = useAuth(firebase.auth);\n  const openItem = useOpenItem();\n  const orders = useOrders();\n  const orderConfirm = useOrderConfirm();\n  useTitle(openItem.openItem);\n\n  return (\n    <>\n      <GlobalStyle/>\n      <NavBar {...auth}/>\n      <Order\n        {...orders}\n        {...openItem}\n        {...auth}\n        {...orderConfirm}\n        />\n      <Menu {...openItem}/>\n      { openItem.openItem && <ModalItem {...openItem} {...orders}\n        /> } {/*верстка будет если есть openItem*/}\n      { orderConfirm.openOrderConfirm && <OrderConfirm {...orders} {...auth} {...orderConfirm}\n        firebaseDatabase={firebase.database}\n        />}\n    </>\n  );\n}\n\nexport default App;","import { useEffect, useState } from 'react';\r\n\r\nexport function useAuth(authFirebase) {\r\n    const [authentification, setAuthentification] = useState(null);\r\n\r\n    const auth = authFirebase();\r\n\r\n    const provider = new authFirebase.GoogleAuthProvider();\r\n\r\n    const logIn = () => auth.signInWithPopup(provider);\r\n\r\n    const logOut = () => auth.signOut() //возвращает promice\r\n        .catch(err => console.error())\r\n\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged(user => {\r\n            user ? setAuthentification(user) : setAuthentification(null);\r\n        })\r\n    }, [auth, authentification]);\r\n\r\n    return { authentification, logIn, logOut };\r\n\r\n}","import { useState } from 'react';\r\n\r\nexport function useOpenItem() {\r\n    const [openItem, setOpenItem] = useState(null);\r\n    return {openItem, setOpenItem};\r\n}","import { useState } from 'react';\r\n\r\nexport function useOrders() {\r\n    const [orders, setOrders] = useState([]);\r\n    return {orders, setOrders};\r\n}","import { useState } from 'react';\r\n\r\nexport const useOrderConfirm = () => {\r\n    const [openOrderConfirm, setOpenOrderConfirm] = useState(false);\r\n    return { openOrderConfirm, setOpenOrderConfirm };\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}